<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Tue Jun 03 01:46:40 UTC 2025 -->
<title>WatchlistService (PortfolioManager 1.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-06-03">
<meta name="description" content="declaration: module: com.javarepowizards.portfoliomanager, package: com.javarepowizards.portfoliomanager.services.watchlist, class: WatchlistService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/WatchlistService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../module-summary.html">com.javarepowizards.portfoliomanager</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.javarepowizards.portfoliomanager.services.watchlist</a></div>
<h1 title="Class WatchlistService" class="title">Class WatchlistService</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.javarepowizards.portfoliomanager.services.watchlist.WatchlistService</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../domain/IWatchlistReadOnly.html" title="interface in com.javarepowizards.portfoliomanager.domain">IWatchlistReadOnly</a></code>, <code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">WatchlistService</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a>, <a href="../../domain/IWatchlistReadOnly.html" title="interface in com.javarepowizards.portfoliomanager.domain">IWatchlistReadOnly</a></span></div>
<div class="block">Service responsible for managing the current user's watchlist.
 This class encapsulates all business rules around listing,
 adding, and removing stocks from the watchlist.  The UI layer
 merely calls these methods and renders the returned data.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.javarepowizards.portfoliomanager.domain.stock.StockRepository,com.javarepowizards.portfoliomanager.dao.watchlist.IWatchlistDAO,com.javarepowizards.portfoliomanager.dao.user.IUserDAO,com.javarepowizards.portfoliomanager.dao.portfolio.IPortfolioDAO)" class="member-name-link">WatchlistService</a><wbr>(<a href="../../domain/stock/StockRepository.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">StockRepository</a>&nbsp;stockRepo,
 <a href="../../dao/watchlist/IWatchlistDAO.html" title="interface in com.javarepowizards.portfoliomanager.dao.watchlist">IWatchlistDAO</a>&nbsp;watchlistDAO,
 <a href="../../dao/user/IUserDAO.html" title="interface in com.javarepowizards.portfoliomanager.dao.user">IUserDAO</a>&nbsp;userDAO,
 <a href="../../dao/portfolio/IPortfolioDAO.html" title="interface in com.javarepowizards.portfoliomanager.dao.portfolio">IPortfolioDAO</a>&nbsp;portfolioDAO)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new WatchlistService.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addStock(com.javarepowizards.portfoliomanager.domain.stock.IStock)" class="member-name-link">addStock</a><wbr>(<a href="../../domain/stock/IStock.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">IStock</a>&nbsp;Stock)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds the given stock symbol to the current user's watchlist.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addStock(com.javarepowizards.portfoliomanager.models.StockName)" class="member-name-link">addStock</a><wbr>(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;symbol)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds the given stock symbol to the current user's watchlist.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeChangePercent(com.javarepowizards.portfoliomanager.models.PortfolioEntry)" class="member-name-link">computeChangePercent</a><wbr>(<a href="../../models/PortfolioEntry.html" title="class in com.javarepowizards.portfoliomanager.models">PortfolioEntry</a>&nbsp;entry)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates change % = (close - open) / open * 100 for a given portfolio entry.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#formatPercent(double)" class="member-name-link">formatPercent</a><wbr>(double&nbsp;pct)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Formats a raw percent like 1.2345 into “+1.23%” or “-2.50%”.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAddableSymbols()" class="member-name-link">getAddableSymbols</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the list of all stock symbols that are not yet in the current user's watchlist.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../models/PortfolioEntry.html" title="class in com.javarepowizards.portfoliomanager.models">PortfolioEntry</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBalancePicks()" class="member-name-link">getBalancePicks</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Selects four portfolio entries for highlighting based on change criteria:
 highest gain, closest to zero, smallest non-zero change, and largest loss.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLongDescription(com.javarepowizards.portfoliomanager.models.StockName)" class="member-name-link">getLongDescription</a><wbr>(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;sym)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provides the long description text for a given stock symbol.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;javafx.scene.chart.PieChart.Data&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPortfolioPieData()" class="member-name-link">getPortfolioPieData</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generates pie chart data for the user's portfolio holdings.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getShortDescription(com.javarepowizards.portfoliomanager.models.StockName)" class="member-name-link">getShortDescription</a><wbr>(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;sym)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provides the short description text for a given stock symbol.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../domain/stock/IStock.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">IStock</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStock(com.javarepowizards.portfoliomanager.models.StockName)" class="member-name-link">getStock</a><wbr>(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;sym)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Loads the IStock for the given symbol.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../../domain/stock/IStock.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">IStock</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWatchlist()" class="member-name-link">getWatchlist</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the list of stocks currently on the user's watchlist.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../../ui/table/TableRow/WatchlistRow.html" title="class in com.javarepowizards.portfoliomanager.ui.table.TableRow">WatchlistRow</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWatchlistRows()" class="member-name-link">getWatchlistRows</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Builds WatchlistRow objects for display in the UI table.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWatchlistSymbols()" class="member-name-link">getWatchlistSymbols</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the raw list of symbols in the user’s watchlist.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeStock(com.javarepowizards.portfoliomanager.domain.stock.IStock)" class="member-name-link">removeStock</a><wbr>(<a href="../../domain/stock/IStock.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">IStock</a>&nbsp;Stock)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes the given stock symbol from the current user's watchlist.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeStock(com.javarepowizards.portfoliomanager.models.StockName)" class="member-name-link">removeStock</a><wbr>(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;symbol)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes the given stock symbol from the current user's watchlist.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.javarepowizards.portfoliomanager.domain.stock.StockRepository,com.javarepowizards.portfoliomanager.dao.watchlist.IWatchlistDAO,com.javarepowizards.portfoliomanager.dao.user.IUserDAO,com.javarepowizards.portfoliomanager.dao.portfolio.IPortfolioDAO)">
<h3>WatchlistService</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">WatchlistService</span><wbr><span class="parameters">(<a href="../../domain/stock/StockRepository.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">StockRepository</a>&nbsp;stockRepo,
 <a href="../../dao/watchlist/IWatchlistDAO.html" title="interface in com.javarepowizards.portfoliomanager.dao.watchlist">IWatchlistDAO</a>&nbsp;watchlistDAO,
 <a href="../../dao/user/IUserDAO.html" title="interface in com.javarepowizards.portfoliomanager.dao.user">IUserDAO</a>&nbsp;userDAO,
 <a href="../../dao/portfolio/IPortfolioDAO.html" title="interface in com.javarepowizards.portfoliomanager.dao.portfolio">IPortfolioDAO</a>&nbsp;portfolioDAO)</span></div>
<div class="block">Creates a new WatchlistService.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>stockRepo</code> - repository for loading and validating stocks</dd>
<dd><code>watchlistDAO</code> - DAO for persisting user watchlist entries</dd>
<dd><code>userDAO</code> - DAO for retrieving the current user</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getWatchlist()">
<h3>getWatchlist</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../domain/stock/IStock.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">IStock</a>&gt;</span>&nbsp;<span class="element-name">getWatchlist</span>()
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Returns the list of stocks currently on the user's watchlist.
 Stocks for which no price history is available are silently skipped.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../domain/IWatchlistReadOnly.html#getWatchlist()">getWatchlist</a></code>&nbsp;in interface&nbsp;<code><a href="../../domain/IWatchlistReadOnly.html" title="interface in com.javarepowizards.portfoliomanager.domain">IWatchlistReadOnly</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getWatchlist()">getWatchlist</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Returns:</dt>
<dd>list of fully-loaded IStock instances</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is an error reading stock data</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if there is an error querying the watchlist table</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no user is logged in</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addStock(com.javarepowizards.portfoliomanager.models.StockName)">
<h3>addStock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addStock</span><wbr><span class="parameters">(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;symbol)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Adds the given stock symbol to the current user's watchlist.
 If the symbol is already present, this is a no-op.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#addStock(com.javarepowizards.portfoliomanager.models.StockName)">addStock</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>symbol</code> - the StockName to add</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if there is an error persisting the new entry</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addStock(com.javarepowizards.portfoliomanager.domain.stock.IStock)">
<h3>addStock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addStock</span><wbr><span class="parameters">(<a href="../../domain/stock/IStock.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">IStock</a>&nbsp;Stock)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Adds the given stock symbol to the current user's watchlist.
 If the symbol is already present, this is a no-op.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#addStock(com.javarepowizards.portfoliomanager.domain.stock.IStock)">addStock</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>Stock</code> - the IStock to add</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeStock(com.javarepowizards.portfoliomanager.models.StockName)">
<h3>removeStock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeStock</span><wbr><span class="parameters">(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;symbol)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Removes the given stock symbol from the current user's watchlist.
 If the symbol was not present, this is a no-op.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#removeStock(com.javarepowizards.portfoliomanager.models.StockName)">removeStock</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>symbol</code> - the StockName to remove</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if there is an error deleting the entry</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no user is logged in</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeStock(com.javarepowizards.portfoliomanager.domain.stock.IStock)">
<h3>removeStock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeStock</span><wbr><span class="parameters">(<a href="../../domain/stock/IStock.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">IStock</a>&nbsp;Stock)</span></div>
<div class="block">Removes the given stock symbol from the current user's watchlist.
 If the symbol was not present, this is a no-op.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#removeStock(com.javarepowizards.portfoliomanager.domain.stock.IStock)">removeStock</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>Stock</code> - the StockName to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAddableSymbols()">
<h3>getAddableSymbols</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&gt;</span>&nbsp;<span class="element-name">getAddableSymbols</span>()
                                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Returns the list of all stock symbols that are not yet in the current user's watchlist.
 This method fetches the set of symbols the user has already added, then
 filters out those from the complete enum list.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getAddableSymbols()">getAddableSymbols</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Returns:</dt>
<dd>a list of StockName values that can still be added to the watchlist</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if there is an error querying the watchlist persistence</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getShortDescription(com.javarepowizards.portfoliomanager.models.StockName)">
<h3>getShortDescription</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getShortDescription</span><wbr><span class="parameters">(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;sym)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Provides the short description text for a given stock symbol.
 This will load the IStock from the repository and return its
 short description for display in the UI.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getShortDescription(com.javarepowizards.portfoliomanager.models.StockName)">getShortDescription</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>sym</code> - the StockName enum whose description should be retrieved</dd>
<dt>Returns:</dt>
<dd>the stock’s short description text</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is an error loading the stock data</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLongDescription(com.javarepowizards.portfoliomanager.models.StockName)">
<h3>getLongDescription</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getLongDescription</span><wbr><span class="parameters">(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;sym)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Provides the long description text for a given stock symbol.
 This method loads the IStock from the repository and returns its
 long description for display in the UI.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getLongDescription(com.javarepowizards.portfoliomanager.models.StockName)">getLongDescription</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>sym</code> - the StockName enum whose description should be retrieved</dd>
<dt>Returns:</dt>
<dd>the stock’s long description text</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is an error loading the stock data</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStock(com.javarepowizards.portfoliomanager.models.StockName)">
<h3>getStock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../domain/stock/IStock.html" title="interface in com.javarepowizards.portfoliomanager.domain.stock">IStock</a></span>&nbsp;<span class="element-name">getStock</span><wbr><span class="parameters">(<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&nbsp;sym)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Loads the IStock for the given symbol.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getStock(com.javarepowizards.portfoliomanager.models.StockName)">getStock</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>sym</code> - the StockName to load</dd>
<dt>Returns:</dt>
<dd>the fully-populated IStock</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if stock data cannot be read</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWatchlistSymbols()">
<h3>getWatchlistSymbols</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../models/StockName.html" title="enum class in com.javarepowizards.portfoliomanager.models">StockName</a>&gt;</span>&nbsp;<span class="element-name">getWatchlistSymbols</span>()
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Returns the raw list of symbols in the user’s watchlist.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getWatchlistSymbols()">getWatchlistSymbols</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Returns:</dt>
<dd>list of StockName values in current watchlist</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if there is an error querying the watchlist</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="formatPercent(double)">
<h3>formatPercent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">formatPercent</span><wbr><span class="parameters">(double&nbsp;pct)</span></div>
<div class="block">Formats a raw percent like 1.2345 into “+1.23%” or “-2.50%”.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#formatPercent(double)">formatPercent</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pct</code> - the raw percent</dd>
<dt>Returns:</dt>
<dd>formatted percent string</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computeChangePercent(com.javarepowizards.portfoliomanager.models.PortfolioEntry)">
<h3>computeChangePercent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">computeChangePercent</span><wbr><span class="parameters">(<a href="../../models/PortfolioEntry.html" title="class in com.javarepowizards.portfoliomanager.models">PortfolioEntry</a>&nbsp;entry)</span></div>
<div class="block">Calculates change % = (close - open) / open * 100 for a given portfolio entry.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#computeChangePercent(com.javarepowizards.portfoliomanager.models.PortfolioEntry)">computeChangePercent</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>entry</code> - the portfolio entry to compute for</dd>
<dt>Returns:</dt>
<dd>the live change percent</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWatchlistRows()">
<h3>getWatchlistRows</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../ui/table/TableRow/WatchlistRow.html" title="class in com.javarepowizards.portfoliomanager.ui.table.TableRow">WatchlistRow</a>&gt;</span>&nbsp;<span class="element-name">getWatchlistRows</span>()
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Builds WatchlistRow objects for display in the UI table.
 Stocks without available data are skipped.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getWatchlistRows()">getWatchlistRows</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Returns:</dt>
<dd>list of WatchlistRow elements</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is an error loading stock data</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if there is an error querying the watchlist</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPortfolioPieData()">
<h3>getPortfolioPieData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;javafx.scene.chart.PieChart.Data&gt;</span>&nbsp;<span class="element-name">getPortfolioPieData</span>()</div>
<div class="block">Generates pie chart data for the user's portfolio holdings.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getPortfolioPieData()">getPortfolioPieData</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Returns:</dt>
<dd>list of PieChart.Data elements with symbol and market value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBalancePicks()">
<h3>getBalancePicks</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../models/PortfolioEntry.html" title="class in com.javarepowizards.portfoliomanager.models">PortfolioEntry</a>&gt;&gt;</span>&nbsp;<span class="element-name">getBalancePicks</span>()</div>
<div class="block">Selects four portfolio entries for highlighting based on change criteria:
 highest gain, closest to zero, smallest non-zero change, and largest loss.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IWatchlistService.html#getBalancePicks()">getBalancePicks</a></code>&nbsp;in interface&nbsp;<code><a href="IWatchlistService.html" title="interface in com.javarepowizards.portfoliomanager.services.watchlist">IWatchlistService</a></code></dd>
<dt>Returns:</dt>
<dd>list of up to four Optional entries in priority order</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
